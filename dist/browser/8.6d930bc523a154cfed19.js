(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"4V37":function(t,n,e){"use strict";e.r(n);var o=e("CcnG"),l=function(){return function(){}}(),i=e("zl1X"),u=e("pMnS"),a=e("xLE1"),s=e("WODN"),r=e("pJFP"),c=e("EuML"),b=function(){function t(t,n,e){this.route=t,this.router=n,this.postService=e,this.photosPagination={limit:9,offset:0,count:0,table:"Photos"}}return t.prototype.ngOnInit=function(){var t=this;this.route.data.subscribe(function(n){t.tag=n.data.tag,t.photos=n.data.posts.data,t.photosPagination.count=n.data.posts.count})},t.prototype.ngOnDestroy=function(){this.unsubscribePhotos()},t.prototype.unsubscribePhotos=function(){this.photosSubscription&&this.photosSubscription.unsubscribe()},t.prototype.loadPhotos=function(){var t=this;this.unsubscribePhotos(),this.photosLoading=!0,this.photosSubscription=this.postService.getPostsByTagId(this.tag.id,this.photosPagination).subscribe(function(n){t.tag=n.tag,t.photosLoading=!1,t.photosPagination.count=n.posts.count,n.posts.data.forEach(function(n){t.photos.push(n)})})},t.prototype.hasNext=function(t){return t.limit+t.offset<t.count},t.prototype.setNext=function(t){t.offset=t.limit+t.offset},t.prototype.onLoadPhotos=function(){this.photosLoading||this.hasNext(this.photosPagination)&&(this.setNext(this.photosPagination),this.loadPhotos())},t}(),p=e("ZYCi"),f=o.ob({encapsulation:0,styles:[[".tag-page[_ngcontent-%COMP%]{width:100%;min-height:100vh;background:#e9ecef;display:flex;flex-direction:column;align-items:center;justify-content:flex-start}.tag-page-header[_ngcontent-%COMP%]{margin-top:1rem;width:65%;background:#e9ecef;display:flex;flex-direction:row;align-items:center;justify-content:space-between}@media only screen and (max-width:75em){.tag-page-header[_ngcontent-%COMP%]{width:75%}}@media only screen and (max-width:56.25em){.tag-page-header[_ngcontent-%COMP%]{width:85%}}@media only screen and (max-width:37.5em){.tag-page-header[_ngcontent-%COMP%]{width:95%}}.tag-page-header-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:flex-start}.tag-page-header-info[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], .tag-page-header-info[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{padding:0;margin:0}.tag-page-posts[_ngcontent-%COMP%]{width:65%}@media only screen and (max-width:75em){.tag-page-posts[_ngcontent-%COMP%]{width:75%}}@media only screen and (max-width:56.25em){.tag-page-posts[_ngcontent-%COMP%]{width:85%}}@media only screen and (max-width:37.5em){.tag-page-posts[_ngcontent-%COMP%]{width:95%}}"]],data:{}});function d(t){return o.Gb(0,[(t()(),o.qb(0,0,null,null,11,"div",[["class","tag-page"]],null,null,null,null,null)),(t()(),o.qb(1,0,null,null,7,"div",[["class","tag-page-header"]],null,null,null,null,null)),(t()(),o.qb(2,0,null,null,1,"clr-icon",[["class","is-solid"],["shape","tag"],["size","70"]],null,null,null,null,null)),o.pb(3,16384,null,0,a.bb,[],null,null),(t()(),o.qb(4,0,null,null,4,"div",[["class","tag-page-header-info"]],null,null,null,null,null)),(t()(),o.qb(5,0,null,null,1,"h1",[],null,null,null,null,null)),(t()(),o.Fb(6,null,["#",""])),(t()(),o.qb(7,0,null,null,1,"h5",[],null,null,null,null,null)),(t()(),o.Fb(8,null,[""," posts"])),(t()(),o.qb(9,0,null,null,2,"div",[["class","tag-page-posts"]],null,null,null,null,null)),(t()(),o.qb(10,0,null,null,1,"app-photo-gallery",[["title","Most recent posts"]],null,[[null,"load"]],function(t,n,e){var o=!0;return"load"===n&&(o=!1!==t.component.onLoadPhotos()&&o),o},s.b,s.a)),o.pb(11,49152,null,0,r.a,[],{title:[0,"title"],loading:[1,"loading"],photos:[2,"photos"],deletable:[3,"deletable"]},{load:"load"})],function(t,n){var e=n.component;t(n,11,0,"Most recent posts",e.photosLoading,e.photos,!1)},function(t,n){var e=n.component;t(n,6,0,e.tag.tag_name),t(n,8,0,e.photosPagination.count)})}function g(t){return o.Gb(0,[(t()(),o.qb(0,0,null,null,1,"app-tag",[],null,null,null,d,f)),o.pb(1,245760,null,0,b,[p.a,p.k,c.a],null,null)],function(t,n){t(n,1,0)},null)}var h=o.mb("app-tag",b,g,{},{},[]),y=e("Ip0R"),m=e("gIcY"),v=e("t/Na"),P=e("F/XL"),O=e("xMyE"),w=e("9Z1F"),x=e("ZYjt"),C=function(){function t(t,n,e,o){this.router=t,this.postService=n,this.transferState=e,this.platformId=o}return t.prototype.resolve=function(t,n){var e=this,o=t.params.id,l=Object(x.k)("tagged_posts-"+o);if(this.transferState.hasKey(l)){var i=this.transferState.get(l,{tag:null,data:[],count:0});return this.transferState.remove(l),Object(P.a)(i)}return this.postService.getPostsByTagId(o,{limit:9,offset:0}).pipe(Object(O.a)(function(t){Object(y.B)(e.platformId)&&e.transferState.set(l,t)}),Object(w.a)(function(t){return console.error(t),e.router.navigateByUrl("/"),Object(P.a)(t)}))},t}(),S=e("x80Z"),j=e("6leL"),M=C,k=function(){return function(){}}();e.d(n,"TagModuleNgFactory",function(){return _});var _=o.nb(l,[],function(t){return o.xb([o.yb(512,o.j,o.db,[[8,[i.A,i.a,i.b,i.d,i.e,i.f,i.g,i.h,i.c,i.w,i.x,i.y,i.z,u.a,h]],[3,o.j],o.y]),o.yb(4608,y.n,y.m,[o.v,[2,y.D]]),o.yb(4608,m.A,m.A,[]),o.yb(4608,m.e,m.e,[]),o.yb(4608,v.h,v.n,[y.c,o.C,v.l]),o.yb(4608,v.o,v.o,[v.h,v.m]),o.yb(5120,v.a,function(t){return[t]},[v.o]),o.yb(4608,v.k,v.k,[]),o.yb(6144,v.i,null,[v.k]),o.yb(4608,v.g,v.g,[v.i]),o.yb(6144,v.b,null,[v.g]),o.yb(4608,v.f,v.j,[v.b,o.r]),o.yb(4608,v.c,v.c,[v.f]),o.yb(4608,C,C,[p.k,c.a,x.j,o.C]),o.yb(1073742336,y.b,y.b,[]),o.yb(1073742336,a.cb,a.cb,[]),o.yb(1073742336,a.qc,a.qc,[]),o.yb(1073742336,a.Kd,a.Kd,[]),o.yb(1073742336,a.U,a.U,[]),o.yb(1073742336,a.d,a.d,[]),o.yb(1073742336,a.W,a.W,[]),o.yb(1073742336,a.r,a.r,[]),o.yb(1073742336,a.Wd,a.Wd,[]),o.yb(1073742336,a.p,a.p,[]),o.yb(1073742336,a.sc,a.sc,[]),o.yb(1073742336,a.K,a.K,[]),o.yb(1073742336,m.y,m.y,[]),o.yb(1073742336,m.j,m.j,[]),o.yb(1073742336,a.gb,a.gb,[]),o.yb(1073742336,a.tb,a.tb,[]),o.yb(1073742336,a.xb,a.xb,[]),o.yb(1073742336,a.Ab,a.Ab,[]),o.yb(1073742336,a.Rb,a.Rb,[]),o.yb(1073742336,a.Z,a.Z,[]),o.yb(1073742336,a.lb,a.lb,[]),o.yb(1073742336,a.Cc,a.Cc,[]),o.yb(1073742336,a.O,a.O,[]),o.yb(1073742336,a.md,a.md,[]),o.yb(1073742336,a.E,a.E,[]),o.yb(1073742336,a.Kb,a.Kb,[]),o.yb(1073742336,a.Xb,a.Xb,[]),o.yb(1073742336,a.v,a.v,[]),o.yb(1073742336,a.ob,a.ob,[]),o.yb(1073742336,a.kb,a.kb,[]),o.yb(1073742336,a.i,a.i,[]),o.yb(1073742336,a.j,a.j,[]),o.yb(1073742336,a.mb,a.mb,[]),o.yb(1073742336,a.qb,a.qb,[]),o.yb(1073742336,a.td,a.td,[]),o.yb(1073742336,a.Pb,a.Pb,[]),o.yb(1073742336,a.cc,a.cc,[]),o.yb(1073742336,a.ib,a.ib,[]),o.yb(1073742336,a.Db,a.Db,[]),o.yb(1073742336,a.Ub,a.Ub,[]),o.yb(1073742336,a.ub,a.ub,[]),o.yb(1073742336,a.gc,a.gc,[]),o.yb(1073742336,a.a,a.a,[]),o.yb(1073742336,m.t,m.t,[]),o.yb(1073742336,v.e,v.e,[]),o.yb(1073742336,v.d,v.d,[]),o.yb(1073742336,S.a,S.a,[]),o.yb(1073742336,p.n,p.n,[[2,p.t],[2,p.k]]),o.yb(1073742336,k,k,[]),o.yb(1073742336,l,l,[]),o.yb(256,v.l,"XSRF-TOKEN",[]),o.yb(256,v.m,"X-XSRF-TOKEN",[]),o.yb(1024,p.i,function(){return[[{path:":id",component:b,canActivate:[j.a],resolve:{data:M}}]]},[])])})},"6leL":function(t,n,e){"use strict";e.d(n,"a",function(){return a});var o=e("VEMy"),l=e("67Y/"),i=e("CcnG"),u=e("ZYCi"),a=function(){function t(t,n){this.router=t,this.authService=n}return t.prototype.canActivate=function(t,n){var e=this;return this.authService.authenticated.pipe(Object(l.a)(function(t){return t||e.router.navigateByUrl("/login"),t}))},t.ngInjectableDef=i.U({factory:function(){return new t(i.Y(u.k),i.Y(o.a))},token:t,providedIn:"root"}),t}()},EuML:function(t,n,e){"use strict";e.d(n,"a",function(){return u});var o=e("8Zm5"),l=e("+5RZ"),i=e("CcnG"),u=function(){function t(t){this.apiService=t}return t.prototype.getMyPosts=function(t){return this.apiService.get("/me/posts"+Object(o.a)(t))},t.prototype.getPostsFollowing=function(t){var n=t.limit,e=t.offset;return this.apiService.get("/me/posts/following"+Object(o.a)({limit:n,offset:e}))},t.prototype.getPostsSuggested=function(t){var n=t.limit,e=t.offset;return this.apiService.get("/me/posts/suggested"+Object(o.a)({limit:n,offset:e}))},t.prototype.getPostById=function(t){return this.apiService.get("/posts/"+t)},t.prototype.getPostComments=function(t,n){var e=n.limit,l=n.offset;return this.apiService.get("/posts/"+t+"/comments"+Object(o.a)({limit:e,offset:l}))},t.prototype.createPostComment=function(t,n){return this.apiService.post("/posts/"+t+"/comments",{comment_text:n})},t.prototype.createPostLike=function(t){return this.apiService.post("/posts/"+t+"/likes")},t.prototype.deletePostLike=function(t){return this.apiService.delete("/me/likes/"+t)},t.prototype.deletePost=function(t){return this.apiService.delete("/me/posts/"+t)},t.prototype.getPostsByTagId=function(t,n){var e=n.limit,l=n.offset;return this.apiService.get("/posts/tags/"+t+Object(o.a)({limit:e,offset:l}))},t.prototype.createPost=function(t){return this.apiService.post("/posts",t)},t.ngInjectableDef=i.U({factory:function(){return new t(i.Y(l.a))},token:t,providedIn:"root"}),t}()},UUiz:function(t,n,e){"use strict";e.d(n,"a",function(){return o});var o=function(){return function(){}}()},VoZ6:function(t,n,e){"use strict";var o=e("CcnG");e("kTR9"),e.d(n,"a",function(){return l}),e.d(n,"b",function(){return i});var l=o.ob({encapsulation:0,styles:[[".loading-spinner[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;justify-content:center;align-items:center}"]],data:{}});function i(t){return o.Gb(0,[(t()(),o.qb(0,0,null,null,2,"div",[["class","loading-spinner"]],null,null,null,null,null)),(t()(),o.qb(1,0,null,null,1,"span",[["class","spinner spinner-inverse"]],null,null,null,null,null)),(t()(),o.Fb(-1,null,["Loading..."]))],null,null)}},"Y/86":function(t,n,e){"use strict";var o=e("CcnG"),l=e("xLE1"),i=e("Ip0R");e("UUiz"),e.d(n,"a",function(){return u}),e.d(n,"b",function(){return r});var u=o.ob({encapsulation:0,styles:[[".avatar[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:flex-start;width:100%;height:auto;cursor:pointer}.avatar-img[_ngcontent-%COMP%]{border-radius:50%;width:2.5rem}"]],data:{}});function a(t){return o.Gb(0,[(t()(),o.qb(0,0,null,null,0,"img",[["class","avatar-img"]],[[8,"src",4]],null,null,null,null))],null,function(t,n){t(n,0,0,n.component.src)})}function s(t){return o.Gb(0,[(t()(),o.qb(0,0,null,null,1,"clr-icon",[["class","is-solid"],["shape","user"],["size","60"]],null,null,null,null,null)),o.pb(1,16384,null,0,l.bb,[],null,null)],null,null)}function r(t){return o.Gb(0,[(t()(),o.qb(0,0,null,null,5,"div",[["class","avatar"]],null,null,null,null,null)),(t()(),o.ib(16777216,null,null,1,null,a)),o.pb(2,16384,null,0,i.l,[o.Q,o.N],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(t()(),o.ib(0,[["defaultAvatar",2]],null,0,null,s)),(t()(),o.qb(4,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),o.Fb(5,null,["",""]))],function(t,n){t(n,2,0,n.component.src,o.Ab(n,3))},function(t,n){t(n,5,0,n.component.name)})}},kTR9:function(t,n,e){"use strict";e.d(n,"a",function(){return o});var o=function(){return function(){}}()}}]);