(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"4V37":function(t,n,e){"use strict";e.r(n);var o=e("CcnG"),i=function(){return function(){}}(),l=e("zl1X"),a=e("pMnS"),s=e("xLE1"),u=e("WODN"),r=e("pJFP"),c=e("EuML"),p=function(){function t(t,n){this.route=t,this.postService=n,this.photos=[],this.photosPagination={limit:9,offset:0,count:0,table:"Photos"},this.photosLoading=!0}return t.prototype.ngOnInit=function(){var t=this;this.route.data.subscribe(function(n){t.tag=n.data.tag,t.photosLoading=!1,t.photosPagination.offset=0,t.photosPagination.count=n.data.posts.count,t.photos=n.data.posts.data})},t.prototype.ngOnDestroy=function(){this.unsubscribePhotos()},t.prototype.unsubscribePhotos=function(){this.photosSubscription&&this.photosSubscription.unsubscribe()},t.prototype.loadPhotos=function(){var t=this;this.unsubscribePhotos(),this.photosLoading=!0,this.photosSubscription=this.postService.getPostsByTagId(this.tag.id,this.photosPagination).subscribe(function(n){t.tag=n.tag,t.photosLoading=!1,t.photosPagination.count=n.posts.count,n.posts.data.forEach(function(n){t.photos.push(n)})})},t.prototype.hasNext=function(){return this.photosPagination.limit+this.photosPagination.offset<this.photosPagination.count},t.prototype.setNext=function(){this.photosPagination.offset=this.photosPagination.limit+this.photosPagination.offset},t.prototype.onLoadPhotos=function(){this.photosLoading||this.hasNext()&&(this.setNext(),this.loadPhotos())},t}(),b=e("ZYCi"),g=o.ob({encapsulation:0,styles:[[".tag-page[_ngcontent-%COMP%]{width:100%;min-height:100vh;background:#e9ecef;display:flex;flex-direction:column;align-items:center;justify-content:flex-start}.tag-page-header[_ngcontent-%COMP%]{margin-top:1rem;width:65%;background:#e9ecef;display:flex;flex-direction:row;align-items:center;justify-content:space-between}@media only screen and (max-width:75em){.tag-page-header[_ngcontent-%COMP%]{width:75%}}@media only screen and (max-width:56.25em){.tag-page-header[_ngcontent-%COMP%]{width:85%}}@media only screen and (max-width:37.5em){.tag-page-header[_ngcontent-%COMP%]{width:95%}}.tag-page-header-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:flex-start}.tag-page-header-info[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], .tag-page-header-info[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{padding:0;margin:0}.tag-page-posts[_ngcontent-%COMP%]{width:65%}@media only screen and (max-width:75em){.tag-page-posts[_ngcontent-%COMP%]{width:75%}}@media only screen and (max-width:56.25em){.tag-page-posts[_ngcontent-%COMP%]{width:85%}}@media only screen and (max-width:37.5em){.tag-page-posts[_ngcontent-%COMP%]{width:95%}}"]],data:{}});function d(t){return o.Gb(0,[(t()(),o.qb(0,0,null,null,11,"div",[["class","tag-page"]],null,null,null,null,null)),(t()(),o.qb(1,0,null,null,7,"div",[["class","tag-page-header"]],null,null,null,null,null)),(t()(),o.qb(2,0,null,null,1,"clr-icon",[["class","is-solid"],["shape","tag"],["size","70"]],null,null,null,null,null)),o.pb(3,16384,null,0,s.bb,[],null,null),(t()(),o.qb(4,0,null,null,4,"div",[["class","tag-page-header-info"]],null,null,null,null,null)),(t()(),o.qb(5,0,null,null,1,"h1",[],null,null,null,null,null)),(t()(),o.Fb(6,null,["#",""])),(t()(),o.qb(7,0,null,null,1,"h5",[],null,null,null,null,null)),(t()(),o.Fb(8,null,[""," posts"])),(t()(),o.qb(9,0,null,null,2,"div",[["class","tag-page-posts"]],null,null,null,null,null)),(t()(),o.qb(10,0,null,null,1,"app-photo-gallery",[["title","Most recent posts"]],null,[[null,"load"]],function(t,n,e){var o=!0;return"load"===n&&(o=!1!==t.component.onLoadPhotos()&&o),o},u.b,u.a)),o.pb(11,49152,null,0,r.a,[],{title:[0,"title"],loading:[1,"loading"],photos:[2,"photos"],deletable:[3,"deletable"]},{load:"load"})],function(t,n){var e=n.component;t(n,11,0,"Most recent posts",e.photosLoading,e.photos,!1)},function(t,n){var e=n.component;t(n,6,0,e.tag.tag_name),t(n,8,0,e.photosPagination.count)})}function f(t){return o.Gb(0,[(t()(),o.qb(0,0,null,null,1,"app-tag",[],null,null,null,d,g)),o.pb(1,245760,null,0,p,[b.a,c.a],null,null)],function(t,n){t(n,1,0)},null)}var h=o.mb("app-tag",p,f,{},{},[]),y=e("Ip0R"),m=e("gIcY"),v=e("t/Na"),P=e("F/XL"),O=e("xMyE"),w=e("9Z1F"),x=e("ZYjt"),C=function(){function t(t,n,e,o){this.router=t,this.postService=n,this.transferState=e,this.platformId=o}return t.prototype.resolve=function(t,n){var e=this,o=t.params.id,i=Object(x.k)("tagged_posts-"+o);if(this.transferState.hasKey(i)){var l=this.transferState.get(i,{tag:null,posts:{data:[],count:0}});return this.transferState.remove(i),Object(P.a)(l)}return this.postService.getPostsByTagId(o,{limit:9,offset:0}).pipe(Object(O.a)(function(t){Object(y.B)(e.platformId)&&e.transferState.set(i,t)}),Object(w.a)(function(t){return console.error(t),e.router.navigateByUrl("/"),Object(P.a)(t)}))},t}(),S=e("x80Z"),j=e("6leL"),M=C,k=function(){return function(){}}();e.d(n,"TagModuleNgFactory",function(){return _});var _=o.nb(i,[],function(t){return o.xb([o.yb(512,o.j,o.db,[[8,[l.A,l.a,l.b,l.d,l.e,l.f,l.g,l.h,l.c,l.w,l.x,l.y,l.z,a.a,h]],[3,o.j],o.y]),o.yb(4608,y.n,y.m,[o.v,[2,y.D]]),o.yb(4608,m.A,m.A,[]),o.yb(4608,m.e,m.e,[]),o.yb(4608,v.h,v.n,[y.c,o.C,v.l]),o.yb(4608,v.o,v.o,[v.h,v.m]),o.yb(5120,v.a,function(t){return[t]},[v.o]),o.yb(4608,v.k,v.k,[]),o.yb(6144,v.i,null,[v.k]),o.yb(4608,v.g,v.g,[v.i]),o.yb(6144,v.b,null,[v.g]),o.yb(4608,v.f,v.j,[v.b,o.r]),o.yb(4608,v.c,v.c,[v.f]),o.yb(4608,C,C,[b.k,c.a,x.j,o.C]),o.yb(1073742336,y.b,y.b,[]),o.yb(1073742336,s.cb,s.cb,[]),o.yb(1073742336,s.qc,s.qc,[]),o.yb(1073742336,s.Kd,s.Kd,[]),o.yb(1073742336,s.U,s.U,[]),o.yb(1073742336,s.d,s.d,[]),o.yb(1073742336,s.W,s.W,[]),o.yb(1073742336,s.r,s.r,[]),o.yb(1073742336,s.Wd,s.Wd,[]),o.yb(1073742336,s.p,s.p,[]),o.yb(1073742336,s.sc,s.sc,[]),o.yb(1073742336,s.K,s.K,[]),o.yb(1073742336,m.y,m.y,[]),o.yb(1073742336,m.j,m.j,[]),o.yb(1073742336,s.gb,s.gb,[]),o.yb(1073742336,s.tb,s.tb,[]),o.yb(1073742336,s.xb,s.xb,[]),o.yb(1073742336,s.Ab,s.Ab,[]),o.yb(1073742336,s.Rb,s.Rb,[]),o.yb(1073742336,s.Z,s.Z,[]),o.yb(1073742336,s.lb,s.lb,[]),o.yb(1073742336,s.Cc,s.Cc,[]),o.yb(1073742336,s.O,s.O,[]),o.yb(1073742336,s.md,s.md,[]),o.yb(1073742336,s.E,s.E,[]),o.yb(1073742336,s.Kb,s.Kb,[]),o.yb(1073742336,s.Xb,s.Xb,[]),o.yb(1073742336,s.v,s.v,[]),o.yb(1073742336,s.ob,s.ob,[]),o.yb(1073742336,s.kb,s.kb,[]),o.yb(1073742336,s.i,s.i,[]),o.yb(1073742336,s.j,s.j,[]),o.yb(1073742336,s.mb,s.mb,[]),o.yb(1073742336,s.qb,s.qb,[]),o.yb(1073742336,s.td,s.td,[]),o.yb(1073742336,s.Pb,s.Pb,[]),o.yb(1073742336,s.cc,s.cc,[]),o.yb(1073742336,s.ib,s.ib,[]),o.yb(1073742336,s.Db,s.Db,[]),o.yb(1073742336,s.Ub,s.Ub,[]),o.yb(1073742336,s.ub,s.ub,[]),o.yb(1073742336,s.gc,s.gc,[]),o.yb(1073742336,s.a,s.a,[]),o.yb(1073742336,m.t,m.t,[]),o.yb(1073742336,v.e,v.e,[]),o.yb(1073742336,v.d,v.d,[]),o.yb(1073742336,S.a,S.a,[]),o.yb(1073742336,b.n,b.n,[[2,b.t],[2,b.k]]),o.yb(1073742336,k,k,[]),o.yb(1073742336,i,i,[]),o.yb(256,v.l,"XSRF-TOKEN",[]),o.yb(256,v.m,"X-XSRF-TOKEN",[]),o.yb(1024,b.i,function(){return[[{path:":id",component:p,canActivate:[j.a],resolve:{data:M}}]]},[])])})},"6leL":function(t,n,e){"use strict";e.d(n,"a",function(){return s});var o=e("VEMy"),i=e("67Y/"),l=e("CcnG"),a=e("ZYCi"),s=function(){function t(t,n){this.router=t,this.authService=n}return t.prototype.canActivate=function(t,n){var e=this;return this.authService.authenticated.pipe(Object(i.a)(function(t){return t||e.router.navigateByUrl("/login"),t}))},t.ngInjectableDef=l.U({factory:function(){return new t(l.Y(a.k),l.Y(o.a))},token:t,providedIn:"root"}),t}()},EuML:function(t,n,e){"use strict";e.d(n,"a",function(){return a});var o=e("8Zm5"),i=e("+5RZ"),l=e("CcnG"),a=function(){function t(t){this.apiService=t}return t.prototype.getMyPosts=function(t){return this.apiService.get("/me/posts"+Object(o.a)(t))},t.prototype.getPostsFollowing=function(t){var n=t.limit,e=t.offset;return this.apiService.get("/me/posts/following"+Object(o.a)({limit:n,offset:e}))},t.prototype.getPostsSuggested=function(t){var n=t.limit,e=t.offset;return this.apiService.get("/me/posts/suggested"+Object(o.a)({limit:n,offset:e}))},t.prototype.getPostById=function(t){return this.apiService.get("/posts/"+t)},t.prototype.getPostComments=function(t,n){var e=n.limit,i=n.offset;return this.apiService.get("/posts/"+t+"/comments"+Object(o.a)({limit:e,offset:i}))},t.prototype.createPostComment=function(t,n){return this.apiService.post("/posts/"+t+"/comments",{comment_text:n})},t.prototype.createPostLike=function(t){return this.apiService.post("/posts/"+t+"/likes")},t.prototype.deletePostLike=function(t){return this.apiService.delete("/me/likes/"+t)},t.prototype.deletePost=function(t){return this.apiService.delete("/me/posts/"+t)},t.prototype.getPostsByTagId=function(t,n){var e=n.limit,i=n.offset;return this.apiService.get("/posts/tags/"+t+Object(o.a)({limit:e,offset:i}))},t.prototype.createPost=function(t){return this.apiService.post("/posts",t)},t.ngInjectableDef=l.U({factory:function(){return new t(l.Y(i.a))},token:t,providedIn:"root"}),t}()},UUiz:function(t,n,e){"use strict";e.d(n,"a",function(){return o});var o=function(){return function(){}}()},VoZ6:function(t,n,e){"use strict";var o=e("CcnG");e("kTR9"),e.d(n,"a",function(){return i}),e.d(n,"b",function(){return l});var i=o.ob({encapsulation:0,styles:[[".loading-spinner[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;justify-content:center;align-items:center}"]],data:{}});function l(t){return o.Gb(0,[(t()(),o.qb(0,0,null,null,2,"div",[["class","loading-spinner"]],null,null,null,null,null)),(t()(),o.qb(1,0,null,null,1,"span",[["class","spinner spinner-inverse"]],null,null,null,null,null)),(t()(),o.Fb(-1,null,["Loading..."]))],null,null)}},"Y/86":function(t,n,e){"use strict";var o=e("CcnG");e("UUiz"),e.d(n,"a",function(){return i}),e.d(n,"b",function(){return l});var i=o.ob({encapsulation:0,styles:[[".avatar[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:flex-start;width:100%;height:auto;cursor:pointer}.avatar-img[_ngcontent-%COMP%]{border-radius:50%;width:2.5rem}"]],data:{}});function l(t){return o.Gb(0,[(t()(),o.qb(0,0,null,null,3,"div",[["class","avatar"]],null,null,null,null,null)),(t()(),o.qb(1,0,null,null,0,"img",[["class","avatar-img"]],[[8,"src",4]],null,null,null,null)),(t()(),o.qb(2,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),o.Fb(3,null,["",""]))],null,function(t,n){var e=n.component;t(n,1,0,e.src),t(n,3,0,e.name)})}},kTR9:function(t,n,e){"use strict";e.d(n,"a",function(){return o});var o=function(){return function(){}}()}}]);